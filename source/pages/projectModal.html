<div class="row">
    <div ng-show="pm.action == 'Open'">
        <h4>
            {{ pm.projectEditCopy.name }}
            <small>{{ pm.projectEditCopy.created_at.date }} {{ pm.projectEditCopy.created_at.time }}</small>
        </h4>
        <div class="project-item__data project-item__data_modal">
            <div class="project-item__progressbar"><progressbar value="55"></progressbar></div>
            <div class="project-item__progress-percent">55%</div>
        </div>
        <div class="task-item__description-full">
            {{ pm.projectEditCopy.description }}
        </div>

        <subtask-list
                class="subtask-list subtask-list_task-modal"
                ng-show="pm.subtasks.length > 0"
                subtasks="pm.subtasks"
                hide-remove-btn="true"
                title="Tasks:"></subtask-list>
    </div>

    <div class="task-item-edit" ng-show="pm.action != 'Open'">
        <div>
            <label>Project name:
                <input type="text" class="task-item-edit__title" ng-model="pm.projectEditCopy.name">
            </label>
        </div>
        <div>
            <label>Description:
                <textarea class="task-item-edit__description" ng-model="pm.projectEditCopy.description"></textarea>
            </label>
        </div>

        <subtask-list
                class="subtask-list subtask-list_task-modal"
                ng-show="pm.subtasks.length > 0"
                subtasks="pm.subtasks"
                title="Tasks:"></subtask-list>

        <selectable-dropdown
                items="pm.availableTasks"
                selected-task="pm.selectedSubtask"
                label="Add task(s) to this project"
                placeholder="Write task name"></selectable-dropdown>
    </div>

    <div class="buttons-line">
        <div class="buttons-line__left">
            <button
                    class="button small radius"
                    ng-click="pm.saveProject()"
                    ng-show="pm.action != 'Open'">Save</button>
            <button
                    class="button small radius info"
                    ng-click="pm.edit()"
                    ng-show="pm.action == 'Open'">Edit</button>
            <button class="button small radius secondary" ng-click="pm.cancel()">Cancel</button>
        </div>
        <div class="buttons-line__right">
            <button
                    class="button small radius alert"
                    ng-click="pm.deleteProject()"
                    ng-show="pm.canBeDeleted == true">Delete</button>
        </div>
    </div>
    <a class="close-reveal-modal" ng-click="pm.cancel()">&#215;</a>
</div>